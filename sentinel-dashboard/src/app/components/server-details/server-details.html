<div class="detail-container">
    <div class="header">
        <a routerLink="/" class="back-link">‚Üê Back to Dashboard</a>
        <h1>{{ serverId }}</h1>
    </div>

    <div class="metrics-section">
        <h2>System Metrics</h2>
        <div class="chart-container">
            <canvas baseChart [data]="lineChartData" [options]="lineChartOptions" [type]="'line'">
            </canvas>
        </div>
    </div>

    <div class="services-section">
        <h2>Monitored Services</h2>
        <table>
            <thead>
                <tr>
                    <th>Service Name</th>
                    <th>Status</th>
                    <th>Last Seen</th>
                </tr>
            </thead>
            <tbody>
                @for (s of services; track s.service_name) {
                <tr>
                    <td>{{ s.service_name }}</td>
                    <td>
                        <span class="status-badge" [class.up]="s.status === 1">
                            {{ s.status === 1 ? 'UP' : 'DOWN' }}
                        </span>
                    </td>
                    <td>{{ s.last_seen | date:'mediumTime' }}</td>
                </tr>
                }
            </tbody>
        </table>

        @if (services.length === 0) {
        <div class="no-data-small">
            No monitored services found.
        </div>
        }
    </div>
</div>
